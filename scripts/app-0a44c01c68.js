!function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/scripts/",n(n.s=5)}([function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return u}),t.d(n,"e",function(){return c}),t.d(n,"f",function(){return a});var r=function(e,n){for(var t=e.parentNode;t!==document&&t!==n;)t=t.parentNode;return t!==document},i=function(e,n){for(var t=e.nextElementSibling;null!==t&&t!==n;)t=t.nextElementSibling;return null!==t},o=function(e,n){for(var t=e.previousElementSibling;null!==t&&t!==n;)t=t.previousElementSibling;return null!==t},u=function(e){var n=Array.from(e.children).reduce(function(e,n){return n.offsetHeight+e},2);return n<480?480:n},c=function(e){return Array.from(e.parentNode.querySelectorAll(".c-layer")).reduce(function(n,t){return t===e?u(t)+n:t.querySelector(".c-layer__header").offsetHeight+1+n},0)},a=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(i,o){function u(i){l||(l=i);var o=i-l;e.style.height=r?a(o,d,n-d,t):c(o,d,n-d,t),o<t?window.requestAnimationFrame(u):s()}function c(e,n,t,r){return t*((e=e/r-1)*e*e+1)+n}function a(e,n,t,r){return t*(e/=r)*e*e+n}function s(){e.style.height=n,i(e)}var l=null,d=e.offsetHeight;window.requestAnimationFrame(u)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),i=t(3),o=t(4);t.i(r.a)(i.a),t.i(r.a)(o.a)},function(e,n,t){"use strict";var r=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)};n.a=r},function(e,n,t){"use strict";var r=t(0),i=Array.from(document.querySelectorAll(".c-layer")),o=Array.from(document.querySelectorAll(".c-layers")),u=function e(n,t){return t=t||n[n.length-1].previousElementSibling,null!==t?new Promise(function(r){n.forEach(function(e,r){0===r?e.parentNode.insertBefore(e,t):e.parentNode.insertBefore(e,n[r-1])}),setTimeout(function(){r(e(n,n[n.length-1].previousElementSibling))},200)}):Promise.resolve(n)},c=function(e){return t.i(r.f)(e.parentNode.lastElementChild,480,300).then(function(n){return new Promise(function(t){n.classList.add("c-layer--visited"),n.classList.remove("c-layer--selected");for(var r=[n],i=n.previousElementSibling;i!==e;)r.push(i),i=i.previousElementSibling;setTimeout(function(){t(r)},150)})}).then(function(e){return Promise.all(e.map(function(e,n){return new Promise(function(t){setTimeout(function(){e.classList.add("c-layer--hide"),t(e)},150*n)})}))}).then(function(e){return new Promise(function(n){setTimeout(function(){n(e)},150)})}).then(function(n){return new Promise(function(t){e.classList.add("c-layer--selected"),t(e),u(n,e).then(function(e){return e.forEach(function(e,n){setTimeout(function(){e.classList.remove("c-layer--hide")},200*(n+1))})})})})},a=function(e){var n=t.i(r.d)(e),i=t.i(r.e)(e);return Promise.all([t.i(r.f)(e,n,500,!0),t.i(r.f)(e.parentNode,i,500,!0)])},s=function(e){i.forEach(function(e){return e.removeEventListener("click",l)}),c(e).then(a).then(function(){i.forEach(function(e){return e.addEventListener("click",l)})})},l=function(e){var n=e.currentTarget;n.classList.contains("c-layer--selected")||s(n)};n.a=function(){i.forEach(function(e){return e.addEventListener("click",l)}),o.forEach(function(e){var n=e.querySelector(".c-layer--selected");n.style.height=t.i(r.d)(n),e.style.height=t.i(r.e)(n)})}},function(e,n,t){"use strict";var r=t(0),i=Array.from(document.querySelectorAll(".c-layer")),o=Array.from(document.querySelectorAll(".c-layer__header__icon-drag")),u=void 0,c=function(e){e.removeEventListener("mouseleave",a),e.removeEventListener("mouseenter",s),setTimeout(function(){e.addEventListener("mouseleave",a),e.addEventListener("mouseenter",s)},100)},a=function(e){if(u&&1===e.buttons){var n=e.target,t=e.relatedTarget;r.a(n,t)&&(n.parentNode.insertBefore(u,u.parentNode.firstElementChild),u.classList.add("c-layer--drop"))}},s=function(e){if(u&&1===e.buttons){var n=e.target;n!==u&&r.b(u,n)&&(c(n),n.parentNode.insertBefore(u,n.nextElementSibling),u.classList.add("c-layer--drop")),n!==u&&r.c(u.previousElementSibling,n)&&(c(n),n.parentNode.insertBefore(u,n.nextElementSibling),u.classList.add("c-layer--drop"))}},l=function(){if(u){var e=u.parentNode,n=e.lastElementChild,t=r.d(n),i=r.e(n);document.body.classList.remove("h-layer--body-grabbing"),u.classList.remove("c-layer--dragging"),n.classList.add("c-layer--selected"),r.f(n,t,500,!0),r.f(e,i,500,!0),u.draggable=!1,u.classList.remove("c-layer--drop"),u=void 0}},d=function(e){e.preventDefault(),u=e.target.parentNode.parentNode,console.log(u),u.draggable=!0,u.classList.add("c-layer--dragging")},f=function(e){document.body.classList.add("h-layer--body-grabbing"),e.preventDefault(),e.stopPropagation(),r.f(e.currentTarget.parentNode.lastElementChild,480,300).then(function(e){e.classList.remove("c-layer--selected"),e.classList.add("c-layer--visited")})};n.a=function(){o.forEach(function(e){return e.addEventListener("dragstart",d)}),i.forEach(function(e){e.addEventListener("dragstart",f),e.addEventListener("mouseleave",a),e.addEventListener("mouseenter",s)}),window.addEventListener("mouseup",l)}},function(e,n,t){e.exports=t(1)}]);
//# sourceMappingURL=app-0a44c01c68.js.map
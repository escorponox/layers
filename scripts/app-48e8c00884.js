!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/scripts/",n(n.s=4)}([function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"d",function(){return c}),t.d(n,"e",function(){return u}),t.d(n,"f",function(){return a});var r=function(e,n){for(var t=e.parentNode;t!==document&&t!==n;)t=t.parentNode;return t!==document},o=function(e,n){for(var t=e.nextElementSibling;null!==t&&t!==n;)t=t.nextElementSibling;return null!==t},i=function(e,n){for(var t=e.previousElementSibling;null!==t&&t!==n;)t=t.previousElementSibling;return null!==t},c=function(e){var n=Array.from(e.children).reduce(function(e,n){return n.offsetHeight+e},2);return n<480?480:n},u=function(e){return Array.from(e.parentNode.querySelectorAll(".c-layer")).reduce(function(n,t){return t===e?c(t)+n:t.querySelector(".c-layer__label").offsetHeight+1+n},0)},a=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(o,i){function c(o){s||(s=o);var i=o-s;e.style.height=r?a(i,f,n-f,t):u(i,f,n-f,t),i<t?window.requestAnimationFrame(c):l()}function u(e,n,t,r){return t*((e=e/r-1)*e*e+1)+n}function a(e,n,t,r){return t*(e/=r)*e*e+n}function l(){e.style.height=n,o(e)}var s=null,f=e.offsetHeight;window.requestAnimationFrame(c)})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),o=t(3);t.i(r.a)(),t.i(o.a)()},function(e,n,t){"use strict";var r=t(0),o=Array.from(document.querySelectorAll(".c-layer")),i=Array.from(document.querySelectorAll(".c-layers")),c=function e(n,t){return t=t||n[n.length-1].previousElementSibling,null!==t?new Promise(function(r){n.forEach(function(e,r){0===r?e.parentNode.insertBefore(e,t):e.parentNode.insertBefore(e,n[r-1])}),setTimeout(function(){r(e(n,n[n.length-1].previousElementSibling))},200)}):Promise.resolve(n)},u=function(e){return t.i(r.f)(e.parentNode.lastElementChild,480,300).then(function(n){return new Promise(function(t){n.classList.add("c-layer--visited"),n.classList.remove("c-layer--selected");for(var r=[n],o=n.previousElementSibling;o!==e;)r.push(o),o=o.previousElementSibling;setTimeout(function(){t(r)},150)})}).then(function(e){return Promise.all(e.map(function(e,n){return new Promise(function(t){setTimeout(function(){e.classList.add("c-layer--hide"),t(e)},150*n)})}))}).then(function(e){return new Promise(function(n){setTimeout(function(){n(e)},150)})}).then(function(n){return new Promise(function(t){e.classList.add("c-layer--selected"),t(e),c(n,e).then(function(e){return e.forEach(function(e,n){setTimeout(function(){e.classList.remove("c-layer--hide")},200*(n+1))})})})})},a=function(e){var n=t.i(r.d)(e),o=t.i(r.e)(e);return Promise.all([t.i(r.f)(e,n,500,!0),t.i(r.f)(e.parentNode,o,500,!0)])},l=function(e){Array.from(e.parentNode.querySelectorAll(".c-layer__label")).forEach(function(e){return e.removeEventListener("click",s)}),u(e).then(a).then(function(e){Array.from(e[1].querySelectorAll(".c-layer")).forEach(function(e){return e.addEventListener("click",s)})})},s=function(e){var n=e.currentTarget;n.classList.contains("c-layer--selected")||l(n)};n.a=function(){o.forEach(function(e){return e.addEventListener("click",s)}),i.forEach(function(e){var n=e.querySelector(".c-layer--selected");n.style.height=t.i(r.d)(n),e.style.height=t.i(r.e)(n)})}},function(e,n,t){"use strict";var r=t(0),o=Array.from(document.querySelectorAll(".c-layer")),i=Array.from(document.querySelectorAll(".c-layer__label")),c=(Array.from(document.querySelectorAll(".c-layers")),void 0),u=function(e){e.removeEventListener("mouseleave",a),e.removeEventListener("mouseenter",l),setTimeout(function(){e.addEventListener("mouseleave",a),e.addEventListener("mouseenter",l)},100)},a=function(e){if(c&&1===e.buttons){var n=e.target,t=e.relatedTarget;r.a(n,t)&&(n.parentNode.insertBefore(c,c.parentNode.firstElementChild),c.classList.add("c-layer--drop"))}},l=function(e){if(c&&1===e.buttons){var n=e.target;n!==c&&r.b(c,n)&&(u(n),n.parentNode.insertBefore(c,n.nextElementSibling),c.classList.add("c-layer--drop")),n!==c&&r.c(c.previousElementSibling,n)&&(u(n),n.parentNode.insertBefore(c,n.nextElementSibling),c.classList.add("c-layer--drop"))}},s=function(){if(c){var e=c.parentNode,n=e.lastElementChild,t=r.d(n),o=r.e(n);document.body.classList.remove("c-layer--body-grabbing"),c.classList.remove("c-layer--dragging"),n.classList.add("c-layer--selected"),r.f(n,t,500,!0),r.f(e,o,500,!0),c.draggable=!1,c.classList.remove("c-layer--drop"),c=void 0}},f=function(e){e.preventDefault(),c=e.target.parentNode,c.draggable=!0,c.classList.add("c-layer--dragging")},d=function(e){e.preventDefault(),e.stopPropagation(),document.body.classList.add("c-layer--body-grabbing"),r.f(e.currentTarget.parentNode.lastElementChild,480,300).then(function(e){e.classList.remove("c-layer--selected"),e.classList.add("c-layer--visited")}),e.dataTransfer.dropEffect="move"};n.a=function(){i.forEach(function(e){return e.addEventListener("dragstart",f)}),o.forEach(function(e){e.addEventListener("dragstart",d),e.addEventListener("mouseleave",a),e.addEventListener("mouseenter",l)}),window.addEventListener("mouseup",s)}},function(e,n,t){e.exports=t(1)}]);
//# sourceMappingURL=app-48e8c00884.js.map
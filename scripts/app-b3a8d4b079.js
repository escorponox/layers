!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/scripts/",t(t.s=4)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return c});var r=function(e,t){for(var n=e.parentNode;n!==document&&n!==t;)n=n.parentNode;return n!==document},o=function(e,t){for(var n=e.nextElementSibling;null!==n&&n!==t;)n=n.nextElementSibling;return null!==n},i=function(e,t){for(var n=e.previousElementSibling;null!==n&&n!==t;)n=n.previousElementSibling;return null!==n},a=function(e){var t=Array.from(e.children).reduce(function(e,t){return t.offsetHeight+e},2);return t<480?480:t},u=function(e){return Array.from(e.parentNode.querySelectorAll(".c-layer")).reduce(function(t,n){return n===e?a(n)+t:n.querySelector(".c-layer__label").offsetHeight+1+t},0)},c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise(function(o,i){function a(o){s||(s=o);var i=o-s;e.style.height=r?c(i,f,t-f,n):u(i,f,t-f,n),i<n?window.requestAnimationFrame(a):l()}function u(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function c(e,t,n,r){return n*(e/=r)*e*e+t}function l(){e.style.height=t,o(e)}var s=null,f=e.offsetHeight;window.requestAnimationFrame(a)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3);n.i(r.a)(),n.i(o.a)()},function(e,t,n){"use strict";var r=n(0),o=Array.from(document.querySelectorAll(".c-layer")),i=Array.from(document.querySelectorAll(".c-layers")),a=function e(t,n){return n=n||t[t.length-1].previousElementSibling,null!==n?new Promise(function(r){t.forEach(function(e,r){0===r?e.parentNode.insertBefore(e,n):e.parentNode.insertBefore(e,t[r-1])}),setTimeout(function(){r(e(t,t[t.length-1].previousElementSibling))},300)}):Promise.resolve(t)},u=function(e){return n.i(r.f)(e.parentNode.lastElementChild,480,300).then(function(t){return new Promise(function(n){t.classList.add("c-layer--visited"),t.classList.remove("c-layer--selected");for(var r=[t],o=t.previousElementSibling;o!==e;)r.push(o),o=o.previousElementSibling;setTimeout(function(){n(r)},150)})}).then(function(e){return Promise.all(e.map(function(e,t){return new Promise(function(n){setTimeout(function(){e.classList.add("c-layer--hide"),n(e)},150*t)})}))}).then(function(e){return new Promise(function(t){setTimeout(function(){t(e)},150)})}).then(function(t){return new Promise(function(n){e.classList.add("c-layer--selected"),n(e),a(t,e).then(function(e){return e.forEach(function(e,t){setTimeout(function(){e.classList.remove("c-layer--hide")},200*(t+1))})})})})},c=function(e){var t=n.i(r.d)(e),o=n.i(r.e)(e);return Promise.all([n.i(r.f)(e,t,500,!0),n.i(r.f)(e.parentNode,o,500,!0)])},l=function(e){Array.from(e.parentNode.querySelectorAll(".c-layer__label")).forEach(function(e){return e.removeEventListener("click",s)}),u(e).then(c).then(function(e){Array.from(e[1].querySelectorAll(".c-layer")).forEach(function(e){return e.addEventListener("click",s)})})},s=function(e){var t=e.currentTarget;t.classList.contains("c-layer--selected")||l(t)};t.a=function(){o.forEach(function(e){return e.addEventListener("click",s)}),i.forEach(function(e){var t=e.querySelector(".c-layer--selected");t.style.height=n.i(r.d)(t),e.style.height=n.i(r.e)(t)})}},function(e,t,n){"use strict";var r=n(0),o=Array.from(document.querySelectorAll(".c-layer")),i=Array.from(document.querySelectorAll(".c-layer__label")),a=(Array.from(document.querySelectorAll(".c-layers")),void 0),u=function(e){e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",l),setTimeout(function(){e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",l)},200)},c=function(e){if(a&&1===e.buttons){var t=e.target,n=e.relatedTarget;r.a(t,n)&&(console.log("arriba",e.target,e.relatedTarget),t.parentNode.insertBefore(a,a.parentNode.firstElementChild),a.classList.add("c-layer--drop"))}},l=function(e){if(a&&1===e.buttons){var t=e.target;console.log("enter",e.target,e.relatedTarget),t!==a&&r.b(a,t)&&(u(t),t.parentNode.insertBefore(a,t.nextElementSibling),a.classList.add("c-layer--drop")),t!==a&&r.c(a.previousElementSibling,t)&&(u(t),t.parentNode.insertBefore(a,t.nextElementSibling),a.classList.add("c-layer--drop"))}},s=function(){if(a){var e=a.parentNode,t=e.lastElementChild,n=r.d(t),o=r.e(t);a.classList.remove("c-layer--dragging"),t.classList.add("c-layer--selected"),r.f(t,n,500,!0),r.f(e,o,500,!0),a.draggable=!1,a.classList.remove("c-layer--drop"),a=void 0}},f=function(e){e.preventDefault(),a=e.target.parentNode,a.draggable=!0,a.classList.add("c-layer--dragging")},d=function(e){e.preventDefault(),e.stopPropagation(),document.body.style.cursor="grabbing",r.f(e.currentTarget.parentNode.lastElementChild,480,300).then(function(e){e.classList.remove("c-layer--selected"),e.classList.add("c-layer--visited")}),e.dataTransfer.dropEffect="move"};t.a=function(){i.forEach(function(e){return e.addEventListener("dragstart",f)}),o.forEach(function(e){e.addEventListener("dragstart",d),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",l)}),window.addEventListener("mouseup",s)}},function(e,t,n){e.exports=n(1)}]);
//# sourceMappingURL=app-b3a8d4b079.js.map